<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercício 9</title>
</head>
<body>

    <!--
        9 (desafio). Crie um programa em HTML/JS o qual:
        a) No início tenha somente uma combo com os itens:
        - Escolha uma espécie -
        Ovíparos
        Mamiferos
        b) Se o usuário escolher o primeiro item, nada acontece e se, eventualmente, tiver algo abaixo da combo,
         deve desaparecer tudo (ver itens a seguir para entender melhor)
        c) Se o usuário escolher "Ovíparos", abaixo da combo deve aparecer outra combo com os itens:
         - Escolha um Ovíparo -
         Galinha
         Peixe
         Tartaruga
         d) Se o usuário escolher "Mamíferos", abaixo da combo deve aparecer outra combo com os itens:
         - Escolha um Mamífero -
          Elefante
          Porco
          Coelho
          e) Após escolher um animal - seja em c), seja em d), uma foto de um exemplar deve aparecer abaixo da combo. 
          Se não for escolhido um animal válido (ou seja, se for escolhido o primeiro item da lista), a foto que estive,
          eventualmente aparecendo some. Se nenhum estiver sendo mostrada, continua sem mostrar nada
          f) Também após escolher um animal - seja em c), seja em d), abaixo da imagem descrita em e), deve aparecer um campo de texto 
          solicitando o "Valor de compra do animal"
          g) Abaixo do campo em f) deve ter um botão "Calcula imposto". Ao clicar nele, aparecer abaixo uma frase como esta:
           O imposto será de R$X
           Onde X é:
           - Caso ovíparo: %5 do valor de compra
           - Caso mamífero: %10 do valor de compra
    -->
    
        <select id="sel_animais" onchange="on_animais()">
            <option value="">- Escolha uma espécie -</option>
            <option value="1">Ovíparos</option>
            <option value="2">Mamíferos</option>
        </select><br><br>

        <select id="sel_oviparo" onchange="on_oviparo()" style="display: none;">
              <option value="">- Escolha um Ovíparo -</option>
              <option value="galinha"> Galinha </option>
              <option value="peixe"> Peixe </option>
              <option value="tartaruga"> Tartaruga </option>
        </select>

        <select id="sel_mamifero" onchange="on_mamifero()" style="display: none;">
            <option value="">- Escolha um Mamífero -</option>
            <option value="elefante"> Elefante </option>
            <option value="porco"> Porco </option>
            <option value="coelho"> Coelho </option>
      </select><br>

      <img src="" style="height: 150px;" id="img_todos">
      
       <div id="div_imposto" style="display: none;">
         <p>
           Valor de compra do animal:
         </p>

         <input id="ipt_valor"><br><br>

         <button onclick="but_imposto()">
           Calcula imposto
         </button>
       </div><br>

       <div id="div_valor" style="display: none;"></div>

</body>
</html>

<script>

    var ax_imposto = Number(ipt_valor.value);

    function on_animais(){
      var ax_animal = sel_animais.value;
      sel_oviparo.style.display = "none";
      sel_mamifero.style.display = "none";
      img_todos.style.display = "none";
      div_imposto.style.display = "none";
      div_valor.style.display = "none";

        if(ax_animal == 1){
            sel_oviparo.style.display = "block";
            sel_mamifero.style.display = "none";
        }
        if(ax_animal == 2){
            sel_mamifero.style.display = "block";
            sel_oviparo.style.display = "none";
        }
    }

    function on_oviparo(){
        var ax_oviparo = sel_oviparo.value;
        img_todos.style.display = "none";
        div_imposto.style.display = "none";
        div_valor.style.display = "none";

        if(ax_oviparo == "galinha"){
          img_todos.src = `img/galinha.jpg`;
          img_todos.style.display = "block";
          div_imposto.style.display = "block";
        }
        if(ax_oviparo == "peixe"){
          img_todos.src = `img/peixe.jpg`;
          img_todos.style.display = "block";
          div_imposto.style.display = "block";
        }
        if(ax_oviparo == "tartaruga"){
          img_todos.src = `img/tartaruga.jpg`;
          img_todos.style.display = "block";
          div_imposto.style.display = "block";
        }
    }

    function on_mamifero(){
        var ax_mamifero  = sel_mamifero .value;
        img_todos.style.display = "none";
        div_imposto.style.display = "none";
        div_valor.style.display = "none";

        if(ax_mamifero == "elefante"){
          img_todos.src = `img/elefante.jpg`;
          img_todos.style.display = "block";
          div_imposto.style.display = "block";
        }
        if(ax_mamifero  == "porco"){
          img_todos.src = `img/porco.jpg`;
          img_todos.style.display = "block";
          div_imposto.style.display = "block";
        }
        if(ax_mamifero  == "coelho"){
          img_todos.src = `img/coelho.jpg`;
          img_todos.style.display = "block";
          div_imposto.style.display = "block";
        }
    }

    function but_imposto(){
        div_valor.style.display = "block";
        var ax_oviparo = sel_oviparo.value;
        var ax_mamifero = sel_mamifero.value;
        
        if(ax_oviparo == "galinha"){
          ax_imposto += Number(ipt_valor.value) * 0.05;
        }
        if(ax_oviparo == "peixe"){
          ax_imposto += Number(ipt_valor.value) * 0.05;    
        }
        if(ax_oviparo == "tartaruga"){
          ax_imposto += Number(ipt_valor.value) * 0.05;  
        }

        if(ax_mamifero == "elefante"){
          ax_imposto += Number(ipt_valor.value) * 0.1;
        }
        if(ax_mamifero  == "porco"){
          ax_imposto += Number(ipt_valor.value) * 0.1;
        }
        if(ax_mamifero  == "coelho"){
          ax_imposto += Number(ipt_valor.value) * 0.1;
        }
        div_valor.innerHTML = `O imposto será de R$ ${ax_imposto.toFixed(2)}`;  

    }

</script>
